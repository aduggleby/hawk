@page
@* <summary>Admin users list.</summary> *@
@model Hawk.Web.Pages.Admin.Users.IndexModel
@{
    ViewData["Title"] = "Users";
}

<div class="flex items-start justify-between gap-4 mb-6">
    <div>
        <h1 class="text-2xl font-semibold tracking-tight">Users</h1>
        <p class="text-sm text-zinc-600">Admin-only user management.</p>
    </div>
    <div class="flex items-center gap-2">
        <a class="hawk-btn-ghost" asp-page="/Admin/Import/StatusCake">Import StatusCake</a>
        <a class="hawk-btn-primary" asp-page="/Admin/Users/Create">New user</a>
    </div>
</div>

<div class="hawk-card p-0 overflow-hidden">
    <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
            <thead class="bg-zinc-50 text-zinc-600">
            <tr>
                <th class="text-left font-semibold px-4 py-3">Email</th>
                <th class="text-left font-semibold px-4 py-3">Roles</th>
                <th class="text-right font-semibold px-4 py-3"></th>
            </tr>
            </thead>
            <tbody class="divide-y divide-zinc-100">
            @foreach (var u in Model.Users)
            {
                <tr class="hover:bg-zinc-50/70">
                    <td class="px-4 py-3 font-mono text-xs">@u.Email</td>
                    <td class="px-4 py-3 text-xs text-zinc-700">@string.Join(", ", u.Roles)</td>
                    <td class="px-4 py-3 text-right">
                        <a class="hawk-btn-ghost" asp-page="/Admin/Users/ResetPassword" asp-route-id="@u.Id">Reset password</a>
                        <a class="hawk-btn-ghost ml-2" asp-page="/Admin/Users/Delete" asp-route-id="@u.Id">Delete</a>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
