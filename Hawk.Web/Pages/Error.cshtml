@page
@* <summary>Styled error page with expandable diagnostics for stack trace and full exception details.</summary> *@
@model ErrorModel
@{
    ViewData["Title"] = "Application error";
}

<div class="mx-auto max-w-4xl">
    <div class="hawk-card">
        <div class="mb-4">
            <div class="text-xs font-mono uppercase tracking-tight text-zinc-500">Error</div>
            <h1 class="text-2xl font-semibold tracking-tight">Something went wrong</h1>
            <p class="text-sm text-[color:var(--text-secondary)] mt-2">
                Hawk hit an unexpected error while processing your request.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
            @if (Model.ShowRequestId)
            {
                <div>
                    <div class="text-[color:var(--text-secondary)] text-xs uppercase tracking-tight">Request ID</div>
                    <div class="font-mono mt-1 break-all">@Model.RequestId</div>
                </div>
            }
            @if (!string.IsNullOrWhiteSpace(Model.Path))
            {
                <div>
                    <div class="text-[color:var(--text-secondary)] text-xs uppercase tracking-tight">Path</div>
                    <div class="font-mono mt-1 break-all">@Model.Path</div>
                </div>
            }
            @if (!string.IsNullOrWhiteSpace(Model.ExceptionType))
            {
                <div>
                    <div class="text-[color:var(--text-secondary)] text-xs uppercase tracking-tight">Exception type</div>
                    <div class="font-mono mt-1 break-all">@Model.ExceptionType</div>
                </div>
            }
            @if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))
            {
                <div>
                    <div class="text-[color:var(--text-secondary)] text-xs uppercase tracking-tight">Message</div>
                    <div class="font-mono mt-1 break-words">@Model.ErrorMessage</div>
                </div>
            }
        </div>
    </div>

    <div class="hawk-card mt-4">
        <details>
            <summary class="cursor-pointer select-none font-semibold">Show technical details (stack trace)</summary>
            <div class="mt-3">
                <pre class="p-3 bg-[color:var(--bg-secondary)] border border-[color:var(--border-primary)] overflow-x-auto whitespace-pre-wrap break-words text-xs font-mono">@Model.ExceptionDetails</pre>
            </div>
        </details>
    </div>
</div>
